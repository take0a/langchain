# 概念ガイド

このガイドでは、LangChainフレームワークとAIアプリケーションの背後にある主要な概念について、より広範に解説します。

概念ガイドに進む前に、[チュートリアル](/docs/tutorials)を少なくとも1つは参照することをお勧めします。これにより、ここで説明する概念をより理解しやすくなります。

概念ガイドでは、詳細な手順や具体的な実装例は取り上げていません。それらは[ハウツーガイド](/docs/how_to/)と[チュートリアル](/docs/tutorials)に記載されています。詳細なリファレンス資料については、[APIリファレンス](https://python.langchain.com/api_reference/)をご覧ください。

## 概要

- **[LangChain を選ぶ理由](/docs/concepts/why_langchain)**: LangChain が提供する価値の概要。
- **[アーキテクチャ](/docs/concepts/architecture)**: LangChain エコシステムにおけるパッケージの構成。

## コンセプト

- **[チャットモデル](/docs/concepts/chat_models)**: チャットAPIを介して公開されるLLM。メッセージのシーケンスを入力として処理し、メッセージを出力します。
- **[メッセージ](/docs/concepts/messages)**: チャットモデルにおける通信の単位で、モデルの入出力を表すために使用されます。
- **[チャット履歴](/docs/concepts/chat_history)**: ユーザーメッセージとモデルの応答が交互に表示される、メッセージのシーケンスとして表現される会話。
- **[ツール](/docs/concepts/tools)**: 関数の名前、説明、および受け入れる引数を定義するスキーマが関連付けられた関数。
- **[ツール呼び出し](/docs/concepts/tool_calling)**: ツールスキーマとメッセージを入力として受け取り、出力メッセージの一部としてそれらのツールの呼び出しを返すチャットモデルAPIの一種。
- **[構造化出力](/docs/concepts/structured_outputs)**: チャットモデルが、指定されたスキーマに一致する JSON などの構造化形式で応答するようにする手法。
- **[メモリ](https://langchain-ai.github.io/langgraph/concepts/memory/)**: 会話に関する情報が永続化され、将来の会話で使用できるようになります。
- **[マルチモーダリティ](/docs/concepts/multimodality)**: テキスト、音声、画像、動画など、さまざまな形式のデータを処理する機能。
- **[実行可能インターフェース](/docs/concepts/runnables)**: 多くの LangChain コンポーネントと LangChain 式言語の基盤となる基本抽象化。
- **[ストリーミング](/docs/concepts/streaming)**: 生成された結果をサーフェシングするための LangChain ストリーミング API。
- **[LangChain Expression Language (LCEL)](/docs/concepts/lcel)**: LangChain コンポーネントをオーケストレーションするための構文。シンプルなアプリケーションに最適です。
- **[ドキュメントローダー](/docs/concepts/document_loaders)**: ソースをドキュメントのリストとして読み込みます。
- **[検索](/docs/concepts/retrieval)**: 情報検索システムは、クエリに応じてデータソースから構造化データまたは非構造化データを取得できます。
- **[テキストスプリッター](/docs/concepts/text_splitters)**: 長いテキストを小さなチャンクに分割し、個別にインデックスを付けることで、きめ細かな検索を可能にします。
- **[埋め込みモデル](/docs/concepts/embedding_models)**: テキストや画像などのデータをベクトル空間で表現するモデル。
- **[ベクターストア](/docs/concepts/vectorstores)**: ベクターと関連メタデータの保存と効率的な検索。
- **[リトリーバー](/docs/concepts/retrievers)**: クエリに応じて知識ベースから関連ドキュメントを返すコンポーネント。
- **[検索拡張生成 (RAG)](/docs/concepts/rag)**: 言語モデルを外部知識ベースと組み合わせることで拡張する手法。
- **[エージェント](/docs/concepts/agents)**: [言語モデル](/docs/concepts/chat_models)を使用して、実行するアクションのシーケンスを選択します。エージェントは[ツール](/docs/concepts/tools)を介して外部リソースと対話できます。
- **[プロンプトテンプレート](/docs/concepts/prompt_templates)**: モデルの「プロンプト」（通常は一連のメッセージ）の静的な部分を切り出すコンポーネントです。これらの静的な部分のシリアル化、バージョン管理、再利用に役立ちます。
- **[出力パーサー](/docs/concepts/output_parsers)**: モデルの出力を受け取り、下流のタスクに適した形式に変換します。出力パーサーは、[ツール呼び出し](/docs/concepts/tool_calling)と[構造化出力](/docs/concepts/structured_outputs)が一般公開される以前は主に有用でした。
- **[少数ショットプロンプト](/docs/concepts/few_shot_prompting)**: プロンプトで実行するタスクの例をいくつか提供することで、モデルのパフォーマンスを向上させる手法です。
- **[例セレクタ](/docs/concepts/example_selectors)**: 与えられた入力に基づいて、データセットから最も関連性の高い例を選択するために使用されます。例セレクタは、few-shot prompting でプロンプトの例を選択するために使用されます。
- **[非同期プログラミング](/docs/concepts/async)**: LangChain を非同期コンテキストで使用するために知っておくべき基本事項です。
- **[コールバック](/docs/concepts/callbacks)**: コールバックは、組み込みコンポーネントでカスタム補助コードを実行できるようにします。コールバックは、LangChain の LLM からの出力をストリーミングしたり、アプリケーションの中間ステップをトレースしたりするために使用されます。
- **[トレース](/docs/concepts/tracing)**: アプリケーションが入力から出力に至るまでのステップを記録するプロセスです。トレースは、複雑なアプリケーションのデバッグと問題の診断に不可欠です。
- **[評価](/docs/concepts/evaluation)**: AIアプリケーションのパフォーマンスと有効性を評価するプロセス。これには、モデルの応答を事前に定義された一連の基準またはベンチマークに照らしてテストし、必要な品質基準を満たし、意図された目的を達成していることを確認することが含まれます。このプロセスは、信頼性の高いアプリケーションを構築するために不可欠です。
- **[テスト](/docs/concepts/testing)**: 統合またはアプリケーションのコンポーネントが期待どおりに動作することを確認するプロセス。テストは、アプリケーションが正しく動作し、コードベースの変更によって新たなバグが発生しないことを確認するために不可欠です。

## 用語集

- **[AIMessageChunk](/docs/concepts/messages#aimessagechunk)**: AIメッセージからの部分的なレスポンス。チャットモデルからのレスポンスをストリーミングする際に使用されます。
- **[AIMessage](/docs/concepts/messages#aimessage)**: AIモデルからの完全なレスポンスを表します。
- **[astream_events](/docs/concepts/chat_models#key-methods)**: [LCEL](/docs/concepts/lcel)チェーンから詳細な情報をストリーミングします。
- **[BaseTool](/docs/concepts/tools/#tool-interface)**: LangChainのすべてのツールの基本クラスです。
- **[batch](/docs/concepts/runnables)**: バッチ入力を使用してランナブルを実行するために使用します。
- **[bind_tools](/docs/concepts/tool_calling/#tool-binding)**: モデルがツールと対話できるようにします。
- **[Caching](/docs/concepts/chat_models#caching)**: チャットモデルへの冗長な呼び出しを回避するために結果を保存します。
- **[チャットモデル](/docs/concepts/multimodality/#multimodality-in-chat-models)**: 複数のデータモダリティを処理するチャットモデルです。
- **[Configurable runnables](/docs/concepts/runnables/#configurable-runnables)**: 設定可能な Runnables を作成します。
- **[Context window](/docs/concepts/chat_models#context-window)**: チャットモデルが処理できる入力の最大サイズです。
- **[会話パターン](/docs/concepts/chat_history#conversation-patterns)**: チャットインタラクションにおける一般的なパターン。
- **[ドキュメント](https://python.langchain.com/api_reference/core/documents/langchain_core.documents.base.Document.html)**: LangChain によるドキュメントの表現。
- **[埋め込みモデル](/docs/concepts/multimodality/#multimodality-in-embedding-models)**: さまざまなデータ型のベクトル埋め込みを生成するモデル。
- **[HumanMessage](/docs/concepts/messages#humanmessage)**: 人間のユーザーからのメッセージを表します。
- **[InjectedState](/docs/concepts/tools#injectedstate)**: ツール関数に注入される状態。
- **[InjectedStore](/docs/concepts/tools#injectedstore)**: データの永続化のためにツールに注入できるストア。
- **[InjectedToolArg](/docs/concepts/tools#injectedtoolarg)**: ツール関数に引数を注入するメカニズム。
- **[入力および出力タイプ](/docs/concepts/runnables#input-and-output-types)**: Runnable の入力および出力に使用されるタイプ。
- **[統合パッケージ](/docs/concepts/architecture/#integration-packages)**: LangChain と統合するサードパーティ製パッケージ。
- **[統合テスト](/docs/concepts/testing#integration-tests)**: コンポーネント間の相互作用の正確性を検証するテスト。通常、統合を支える基盤となる API にアクセスして実行されます。
- **[invoke](/docs/concepts/runnables)**: Runnable を呼び出すための標準メソッド。
- **[JSON モード](/docs/concepts/structured_outputs#json-mode)**: JSON 形式でレスポンスを返します。
- **[langchain-community](/docs/concepts/architecture#langchain-community)**: LangChain 用のコミュニティ主導コンポーネント。
- **[langchain-core](/docs/concepts/architecture#langchain-core)**: コア langchain パッケージ。基本インターフェースとメモリ内実装が含まれています。
- **[langchain](/docs/concepts/architecture#langchain)**: 高レベルコンポーネント (例: ビルド済みチェーン) 用のパッケージ。
- **[langgraph](/docs/concepts/architecture#langgraph)**: LangChain 用の強力なオーケストレーションレイヤー。複雑なパイプラインやワークフローの構築に使用します。
- **[langserve](/docs/concepts/architecture#langserve)**: LangChain Runnables を REST エンドポイントとしてデプロイするために使用されます。FastAPI を使用します。主に LangChain Runnables で動作し、現在 LangGraph とは統合されていません。
- **[LLM (レガシー)](/docs/concepts/text_llms)**: 文字列を入力として受け取り、文字列を出力する古い言語モデルです。
- **[チャット履歴の管理](/docs/concepts/chat_history#managing-chat-history)**: チャット履歴を維持および管理するための手法。
- **[OpenAI フォーマット](/docs/concepts/messages#openai-format)**: チャットモデル用の OpenAI メッセージフォーマット。
- **[RunnableConfig の伝播](/docs/concepts/runnables/#propagation-of-runnableconfig)**: Runnable を介した設定の伝播。Python 3.9、3.10、および非同期処理で作業している場合は、こちらをお読みください。
- **[レート制限](/docs/concepts/chat_models#rate-limiting)**: チャットモデルのクライアント側レート制限。
- **[RemoveMessage](/docs/concepts/messages/#removemessage)**: チャット履歴からメッセージを削除するための抽象化。主に LangGraph で使用されます。
- **[role](/docs/concepts/messages#role)**: チャットメッセージの役割（例：ユーザー、アシスタント）を表します。
- **[RunnableConfig](/docs/concepts/runnables/#runnableconfig)**: Runnables に実行時情報を渡すために使用します（例：`run_name`、`run_id`、`tags`、`metadata`、`max_concurrency`、`recursion_limit`、`configurable`）。
- **[チャットモデルの標準パラメータ](/docs/concepts/chat_models#standard-parameters)**: API キー、`temperature`、`max_tokens` などのパラメータ。
- **[標準テスト](/docs/concepts/testing#standard-tests)**: すべての統合が合格する必要がある、定義済みの単体テストと統合テストのセットです。
- **[stream](/docs/concepts/streaming)**: Runnable またはグラフからの出力をストリーミングするために使用します。
- **[Tokenization](/docs/concepts/tokens)**: データをトークンに変換するプロセス、およびその逆のプロセス。
- **[Tokens](/docs/concepts/tokens)**: 言語モデルが内部的に読み取り、処理、生成する基本単位。
- **[Tool Artifacts](/docs/concepts/tools#tool-artifacts)**: ツールの出力に、モデルには送信されないものの、下流処理で使用できるアーティファクトを追加します。
- **[Tool binding](/docs/concepts/tool_calling#tool-binding)**: ツールをモデルにバインドします。
- **[@tool](/docs/concepts/tools/#create-tools-using-the-tool-decorator)**: LangChain でツールを作成するためのデコレータ。
- **[Toolkits](/docs/concepts/tools#toolkits)**: 一緒に使用できるツールのコレクション。
- **[ToolMessage](/docs/concepts/messages#toolmessage)**: ツール実行の結果を含むメッセージを表します。
- **[Unit test](/docs/concepts/testing#unit-tests)**: 個々のコンポーネントの正確性を検証するテスト。インターネットに接続せずに独立して実行されます。
- **[Vector store](/docs/concepts/vectorstores)**: ベクトル埋め込みの保存と効率的な検索に特化したデータストア。
- **[with_structured_output](/docs/concepts/structured_outputs/#structured-output-method)**: [tool calls](/docs/concepts/tool_calling) をネイティブにサポートするチャットモデル用のヘルパーメソッド。Pydantic、JSONスキーマ、または関数で指定されたスキーマに一致する構造化出力を取得します。
- **[with_types](/docs/concepts/runnables#with_types)**: ランナブルの入出力タイプを上書きするメソッド。複雑なLCELチェーンを操作し、LangServeでデプロイする場合に便利です。
